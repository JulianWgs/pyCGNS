#!/usr/bin/env python
#  -------------------------------------------------------------------------
#  pyCGNS.VAL - Python package for CFD General Notation System - VALidater
#  See license.txt file in the root directory of this Python module source  
#  -------------------------------------------------------------------------
#  $Release$
#  -------------------------------------------------------------------------
import getopt
import sys
import os

from CGNS.pyCGNSconfig import version as __vid__

def usage():
  print """CGNS.VAL v%s
  CGNS.VAL [options] files.hdf
  -f : flat mode, do not recurse on tree
  -h : help
  -v : verbose (trace)
  """%__vid__
  sys.exit(-1)

try:
 opts, args = getopt.getopt(sys.argv[1:], "fhv")
except getopt.GetoptError:
 usage()

verbose=False
recurse=True
olist=[]

for o, a in opts:
  if (o == "-f"): recurse=False
  if (o == "-v"): verbose=True
  if (o in ("-h", "--help")): usage()

import CGNS.VAL.parse.PYparse as parser
import CGNS.MAP

(tree,links)=CGNS.MAP.load(filename,CGNS.MAP.S2P_DEFAULTS)

parser.validateTree(tree)

# --- last line
